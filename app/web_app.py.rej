***************
*** 34,40 ****
  # 创建Flask应用，指定正确的模板和静态文件路径
  app = Flask(__name__, 
             template_folder=os.path.join(project_root, 'templates'),
             static_folder=os.path.join(project_root, 'static'))
- app.secret_key = 'your-secret-key-change-in-production'
  
  # 配置文件上传
--- 34,49 ----
  # 创建Flask应用，指定正确的模板和静态文件路径
  app = Flask(__name__, 
             template_folder=os.path.join(project_root, 'templates'),
             static_folder=os.path.join(project_root, 'static'))
+ 
+ # 配置Flask会话
+ app.secret_key = 'your-secret-key-change-in-production'
+ app.config['SESSION_TYPE'] = 'filesystem'
+ app.config['SESSION_PERMANENT'] = False
+ app.config['SESSION_USE_SIGNER'] = True
+ app.config['SESSION_KEY_PREFIX'] = 'mmp_session:'
+ app.config['SESSION_COOKIE_HTTPONLY'] = True
+ app.config['SESSION_COOKIE_SECURE'] = False  # 开发环境设为False，生产环境应为True
+ app.config['PERMANENT_SESSION_LIFETIME'] = 3600  # 1小时过期
  
  # 配置文件上传
