<!DOCTYPE html>
<html>
<head>
    <title>ç»Ÿè®¡å¡ç‰‡ç‚¹å‡»æµ‹è¯•</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: center;
            border-left: 4px solid #3498db;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            margin: 10px;
            width: 200px;
            display: inline-block;
        }
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .detail-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }
        .stat-card:hover .detail-btn {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h2>ç»Ÿè®¡å¡ç‰‡æµ‹è¯•</h2>
        <p>ç‚¹å‡»ä¸‹é¢çš„å¡ç‰‡æµ‹è¯•è¯¦æƒ…åŠŸèƒ½ï¼š</p>
        
        <div class="stat-card" data-stat-type="total">
            <button class="detail-btn" title="æŸ¥çœ‹è¯¦æƒ…">â„¹ï¸</button>
            <h3>548</h3>
            <p>æ€»åˆ†ç±»æ•°</p>
        </div>
        
        <div class="stat-card" data-stat-type="levels">
            <button class="detail-btn" title="æŸ¥çœ‹è¯¦æƒ…">â„¹ï¸</button>
            <h3>3</h3>
            <p>å±‚çº§æ·±åº¦</p>
        </div>
    </div>

    <!-- æ¨¡æ€æ¡† -->
    <div class="modal fade" id="statDetailsModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="statDetailsTitle">ç»Ÿè®¡è¯¦æƒ…</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="statDetailsBody">
                    <!-- åŠ¨æ€å†…å®¹ -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">å…³é—­</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('é¡µé¢åŠ è½½å®Œæˆ');
            
            // ç»Ÿè®¡å¡ç‰‡ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.stat-card').forEach(card => {
                card.addEventListener('click', function(e) {
                    console.log('å¡ç‰‡è¢«ç‚¹å‡»');
                    const statType = this.getAttribute('data-stat-type');
                    console.log('ç»Ÿè®¡ç±»å‹:', statType);
                    showStatDetails(statType);
                });
            });
            
            // è¯¦æƒ…æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.detail-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    console.log('æŒ‰é’®è¢«ç‚¹å‡»');
                    e.stopPropagation();
                    const card = this.closest('.stat-card');
                    if (card) {
                        const statType = card.getAttribute('data-stat-type');
                        showStatDetails(statType);
                    }
                });
            });
        });
        
        function showStatDetails(type) {
            console.log('æ˜¾ç¤ºè¯¦æƒ…:', type);
            
            const modal = $('#statDetailsModal');
            const title = $('#statDetailsTitle');
            const body = $('#statDetailsBody');
            
            let titleText = '';
            let content = '';
            
            switch(type) {
                case 'total':
                    titleText = 'ğŸ“Š æ€»åˆ†ç±»æ•°è¯¦æƒ…';
                    content = '<p><strong>æ€»åˆ†ç±»æ•°é‡ï¼š</strong>548</p><p><strong>è¯´æ˜ï¼š</strong>è¿™æ˜¯åˆ¶é€ ä¸šæ ‡å‡†åˆ†ç±»ä½“ç³»çš„æ€»åˆ†ç±»æ•°é‡ã€‚</p>';
                    break;
                case 'levels':
                    titleText = 'ğŸ—ï¸ å±‚çº§ç»“æ„è¯¦æƒ…';
                    content = '<p><strong>å±‚çº§æ·±åº¦ï¼š</strong>3å±‚</p><p><strong>è¯´æ˜ï¼š</strong>é‡‡ç”¨æ ‘å½¢å±‚çº§ç»“æ„ï¼Œä¾¿äºåˆ†çº§ç®¡ç†ã€‚</p>';
                    break;
                default:
                    titleText = 'è¯¦æƒ…ä¿¡æ¯';
                    content = '<p>è¯¦æƒ…ä¿¡æ¯åŠ è½½ä¸­...</p>';
            }
            
            title.html(titleText);
            body.html(content);
            
            try {
                modal.modal('show');
                console.log('æ¨¡æ€æ¡†æ˜¾ç¤ºæˆåŠŸ');
            } catch (error) {
                console.error('æ¨¡æ€æ¡†æ˜¾ç¤ºå¤±è´¥:', error);
                alert('è¯¦æƒ…ï¼š' + titleText + '\n' + content.replace(/<[^>]*>/g, ''));
            }
        }
    </script>
</body>
</html>