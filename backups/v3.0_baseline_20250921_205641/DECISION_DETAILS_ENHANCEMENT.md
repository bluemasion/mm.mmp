# 决策页面匹配详情查看功能增强

## 功能概述
在决策页面的匹配结果统计卡片上增加点击交互功能，用户可以点击"精确匹配"、"相似匹配"、"未匹配"卡片查看详细的匹配结果。

## 实现的功能

### 1. 可点击的统计卡片
- ✅ 精确匹配卡片（绿色）- 708条数据
- ✅ 相似匹配卡片（黄色）- 295条数据  
- ✅ 未匹配卡片（红色）- 177条数据
- ✅ 鼠标悬停效果：卡片向上浮动，增加阴影

### 2. 匹配详情模态框
- **模态框标题**：根据匹配类型动态显示
- **详情描述**：显示匹配数量和匹配度范围
- **详细列表**：表格形式展示具体的匹配项目

### 3. 不同匹配类型的详情展示

#### 精确匹配详情
```
- 显示输入物料名称
- 显示匹配结果
- 匹配度显示（90%以上，绿色徽章）
- 状态：已确认
- 操作：查看按钮
```

#### 相似匹配详情
```
- 显示输入物料名称
- 显示匹配候选项
- 匹配度显示（70%-90%，黄色徽章）
- 状态：待审核
- 操作：确认/拒绝按钮
```

#### 未匹配详情
```
- 显示输入物料名称
- 显示规格型号
- 显示生产厂家
- 状态：无匹配（红色徽章）
- 操作：手动匹配/跳过按钮
```

### 4. 扩展功能
- **导出详情**：将匹配详情导出为Excel文件（功能占位）
- **批量处理**：对选中的匹配项进行批量确认或处理（功能占位）
- **分页显示**：每个类型默认显示10条，剩余显示"查看全部"链接

## 技术实现

### HTML结构修改
```html
<!-- 为统计卡片添加点击事件和样式 -->
<div class="card bg-success text-white clickable-card" 
     style="cursor: pointer;" 
     onclick="showMatchDetails('exact', 708)">
```

### JavaScript函数
```javascript
// 主要显示函数
showMatchDetails(matchType, count)

// 详情生成函数
generateExactMatchDetails(count)
generateSimilarMatchDetails(count) 
generateUnmatchedDetails(count)
```

### CSS样式增强
```css
.clickable-card:hover {
    transform: translateY(-2px);
    transition: all 0.2s ease;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}
```

## 使用方法

1. **访问决策页面**：http://localhost:5005/decision
2. **点击统计卡片**：点击任意匹配结果统计卡片
3. **查看详情**：在弹出的模态框中查看具体匹配项目
4. **执行操作**：
   - 对于相似匹配：可以确认或拒绝
   - 对于未匹配：可以手动匹配或跳过
   - 对于所有类型：可以导出详情或批量处理

## 数据展示特点

- **真实感的模拟数据**：生成符合医疗物料特点的示例数据
- **状态区分**：不同匹配类型使用不同颜色的徽章和按钮
- **交互友好**：提供确认、拒绝、手动匹配等操作选项
- **分页显示**：避免一次性显示过多数据影响性能

## 扩展方向

### 近期可实现功能
1. **实际数据集成**：连接真实的匹配结果数据
2. **操作响应**：实现确认、拒绝、手动匹配的后端处理
3. **Excel导出**：实现匹配详情的Excel文件导出
4. **搜索过滤**：在详情列表中添加搜索和过滤功能

### 长期扩展功能
1. **匹配算法调优**：基于用户反馈优化匹配算法
2. **历史记录**：保存用户的处理历史和偏好
3. **智能推荐**：基于处理历史提供智能处理建议
4. **协作功能**：支持多用户协作处理匹配结果

---
**开发时间**：2025年09月18日  
**功能状态**：✅ 已完成基础功能，可扩展  
**测试地址**：http://localhost:5005/decision
