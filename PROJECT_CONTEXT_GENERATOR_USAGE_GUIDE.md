# ğŸ§  é¡¹ç›®ä¸Šä¸‹æ–‡ç”Ÿæˆå™¨ä½¿ç”¨æŒ‡å—

## ğŸ“– æ¦‚è¿°

é¡¹ç›®ä¸Šä¸‹æ–‡ç”Ÿæˆå™¨(`project_context_generator.py`)æ˜¯ä¸ºäº†è§£å†³AIå¼€å‘ä¼šè¯ä¸­çš„ä¸Šä¸‹æ–‡ä¸¢å¤±é—®é¢˜è€Œè®¾è®¡çš„å·¥å…·ã€‚å®ƒèƒ½è‡ªåŠ¨åˆ†æé¡¹ç›®ç»“æ„ã€ä»£ç ã€æ•°æ®åº“ã€ä¾èµ–ç­‰ä¿¡æ¯ï¼Œç”Ÿæˆå®Œæ•´çš„é¡¹ç›®å¿«ç…§æ–‡æ¡£ï¼Œç¡®ä¿åœ¨æ–°çš„AIä¼šè¯ä¸­èƒ½å¿«é€Ÿç†è§£é¡¹ç›®ç°çŠ¶ã€‚

## ğŸ¯ è§£å†³çš„é—®é¢˜

1. **å¤šè½®å¯¹è¯ä¸Šä¸‹æ–‡ä¸¢å¤±** - AIæ— æ³•è®°ä½ä¹‹å‰ä¼šè¯çš„é¡¹ç›®ç»†èŠ‚
2. **æ–°ä¼šè¯é¡¹ç›®ç†è§£ä¸ä¸€è‡´** - æ¯æ¬¡é‡æ–°å¼€å§‹éƒ½éœ€è¦é‡æ–°è§£é‡Šé¡¹ç›®
3. **æŠ€æœ¯ç»†èŠ‚é—æ¼** - å¼€å‘ç¯å¢ƒã€ä¾èµ–ç‰ˆæœ¬ç­‰å…³é”®ä¿¡æ¯ç¼ºå¤±
4. **ä»£ç ç»“æ„ä¸æ¸…æ™°** - æ— æ³•å¿«é€Ÿäº†è§£é¡¹ç›®æ¶æ„å’Œæ¨¡å—å…³ç³»

## ğŸš€ åŸºæœ¬ä½¿ç”¨æ–¹æ³•

### æ–¹æ³•1ï¼šç›´æ¥è¿è¡Œè„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œ
cd "/path/to/your/project"
python3.8 project_context_generator.py
```

æ‰§è¡Œåä¼šçœ‹åˆ°ä»¥ä¸‹è¾“å‡ºï¼š
```
ğŸš€ MMPé¡¹ç›®ä¸Šä¸‹æ–‡å¿«ç…§ç”Ÿæˆå™¨
==================================================
ğŸ”„ ç”Ÿæˆé¡¹ç›®ä¸Šä¸‹æ–‡å¿«ç…§...
ğŸ æ”¶é›†ç¯å¢ƒä¿¡æ¯...
ğŸ“š åŠ è½½æ ¸å¿ƒæ–‡æ¡£...
ğŸ—ï¸ åˆ†æä»£ç ç»“æ„...
ğŸ’¾ åˆ†ææ•°æ®åº“ç»“æ„...
ğŸ“Š æ”¶é›†é¡¹ç›®ç»Ÿè®¡...
ğŸ” æ£€æµ‹æœ€è¿‘å˜æ›´...
ğŸ¯ æ„å»ºå¼€å‘ä¸Šä¸‹æ–‡...
ğŸ’¾ ä¿å­˜ä¸Šä¸‹æ–‡å¿«ç…§åˆ° PROJECT_CONTEXT_SNAPSHOT_20250924_103339.md...
âœ… ä¸Šä¸‹æ–‡å¿«ç…§å·²ä¿å­˜: PROJECT_CONTEXT_SNAPSHOT_20250924_103339.md
==================================================
âœ… é¡¹ç›®ä¸Šä¸‹æ–‡å¿«ç…§ç”Ÿæˆå®Œæˆï¼
ğŸ“„ æ–‡ä»¶ä½ç½®: PROJECT_CONTEXT_SNAPSHOT_20250924_103339.md
ğŸ’¡ æ­¤æ–‡æ¡£å¯ç”¨äºæ–°ä¼šè¯çš„é¡¹ç›®ç†è§£å’Œå¼€å‘è¡”æ¥
```

### æ–¹æ³•2ï¼šåœ¨Pythonä¸­ä½¿ç”¨

```python
from project_context_generator import ProjectContextGenerator

# åˆ›å»ºç”Ÿæˆå™¨å®ä¾‹
generator = ProjectContextGenerator(".")  # "." è¡¨ç¤ºå½“å‰ç›®å½•

# ç”Ÿæˆä¸Šä¸‹æ–‡
context = generator.generate_full_context()

# ä¿å­˜ä¸ºMarkdownæ–‡ä»¶
filename = generator.save_context_snapshot(context)
print(f"å¿«ç…§å·²ä¿å­˜: {filename}")
```

### æ–¹æ³•3ï¼šè‡ªå®šä¹‰æ–‡ä»¶å

```python
from project_context_generator import ProjectContextGenerator

generator = ProjectContextGenerator()
context = generator.generate_full_context()

# ä½¿ç”¨è‡ªå®šä¹‰æ–‡ä»¶å
custom_filename = "my_project_context_v1.0.md"
generator.save_context_snapshot(context, custom_filename)
```

## ğŸ“Š ç”Ÿæˆçš„å†…å®¹è¯¦è§£

ç”Ÿæˆçš„Markdownæ–‡æ¡£åŒ…å«ä»¥ä¸‹ç« èŠ‚ï¼š

### 1. ğŸ¯ é¡¹ç›®æ¦‚è§ˆ
- é¡¹ç›®ç®€ä»‹å’Œå½“å‰é˜¶æ®µ
- æ ¸å¿ƒæŠ€æœ¯æ ˆ
- ç”Ÿæˆæ—¶é—´å’Œç‰ˆæœ¬ä¿¡æ¯

### 2. ğŸ å¼€å‘ç¯å¢ƒ
- **Pythonç¯å¢ƒ**: ç‰ˆæœ¬ä¿¡æ¯ã€æ‰§è¡Œè·¯å¾„
- **ç³»ç»Ÿç¯å¢ƒ**: æ“ä½œç³»ç»Ÿã€å¹³å°ã€æ¶æ„
- **é¡¹ç›®ä¾èµ–**: requirements.txtåˆ†æï¼Œä¸»è¦åŒ…åˆ—è¡¨

### 3. ğŸ“š æ ¸å¿ƒæ–‡æ¡£æ‘˜è¦
- è‡ªåŠ¨åŠ è½½é‡è¦æ–‡æ¡£ï¼ˆREADME.mdã€éœ€æ±‚æ–‡æ¡£ç­‰ï¼‰
- å†…å®¹æˆªå–ï¼ˆå‰2000å­—ç¬¦ï¼‰é¿å…è¿‡é•¿

### 4. ğŸ—ï¸ ä»£ç ç»“æ„æ¦‚è§ˆ
- **ä¸»æ¨¡å—**: æ ¹ç›®å½•ä¸‹çš„.pyæ–‡ä»¶åˆ†æ
- **Appæ¨¡å—**: app/ç›®å½•ä¸‹çš„æ¨¡å—åˆ†æ
- æ¯ä¸ªæ–‡ä»¶çš„ç±»æ•°ã€å‡½æ•°æ•°ã€è¡Œæ•°ç»Ÿè®¡

### 5. ğŸ’¾ æ•°æ®åº“ç»“æ„
- æ‰€æœ‰.dbæ–‡ä»¶çš„è¡¨ç»“æ„åˆ†æ
- è¡¨åã€åˆ—æ•°ã€è¡Œæ•°ç»Ÿè®¡

### 6. ğŸ“Š é¡¹ç›®ç»Ÿè®¡
- æ–‡ä»¶ç±»å‹ç»Ÿè®¡
- ä»£ç åº¦é‡ï¼ˆæ€»è¡Œæ•°ã€ç±»æ•°ã€å‡½æ•°æ•°ï¼‰

### 7. ğŸ”„ æœ€è¿‘å˜æ›´
- æœ€è¿‘ä¿®æ”¹çš„10ä¸ªæ–‡ä»¶
- ä¿®æ”¹æ—¶é—´æˆ³

### 8. ğŸ¯ å¼€å‘ä¸Šä¸‹æ–‡
- ä¸»è¦åŠŸèƒ½åˆ—è¡¨
- å·²çŸ¥é—®é¢˜
- ä¸‹ä¸€æ­¥è®¡åˆ’

## ğŸ”§ é…ç½®å’Œå®šåˆ¶

### è‡ªå®šä¹‰æ ¸å¿ƒæ–‡æ¡£åˆ—è¡¨

å¦‚éœ€ä¿®æ”¹åˆ†æçš„æ–‡æ¡£ï¼Œç¼–è¾‘`_load_core_documents`æ–¹æ³•ï¼š

```python
core_docs = [
    "README.md",
    "æ™ºèƒ½åˆ†ç±»æ¨èåŠŸèƒ½éœ€æ±‚ä¸ä½¿ç”¨æŒ‡å—.md",
    "ARCHITECTURE_REFACTORING_PLAN.md",
    "YOUR_CUSTOM_DOC.md",  # æ·»åŠ è‡ªå®šä¹‰æ–‡æ¡£
]
```

### è°ƒæ•´æ–‡æ¡£æˆªå–é•¿åº¦

ä¿®æ”¹æ–‡æ¡£é•¿åº¦é™åˆ¶ï¼š

```python
if len(content) > 2000:  # æ”¹ä¸ºä½ æƒ³è¦çš„é•¿åº¦
    content = content[:2000] + "\n..."
```

### è‡ªå®šä¹‰é¡¹ç›®ä¿¡æ¯

ä¿®æ”¹`_build_development_context`æ–¹æ³•æ¥æ›´æ–°é¡¹ç›®ç‰¹å®šä¿¡æ¯ï¼š

```python
context = {
    "main_features": [
        "ä½ çš„åŠŸèƒ½1",
        "ä½ çš„åŠŸèƒ½2",
        # ...
    ],
    "known_issues": [
        "ä½ çš„é—®é¢˜1", 
        # ...
    ],
    "next_steps": [
        "ä½ çš„è®¡åˆ’1",
        # ...
    ]
}
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å®šæœŸç”Ÿæˆå¿«ç…§

å»ºè®®åœ¨ä»¥ä¸‹æ—¶æœºç”Ÿæˆæ–°çš„ä¸Šä¸‹æ–‡å¿«ç…§ï¼š

```bash
# æ¯æ—¥å¼€å‘ç»“æŸæ—¶
python3.8 project_context_generator.py

# å®Œæˆé‡è¦åŠŸèƒ½å
python3.8 project_context_generator.py

# å¼€å§‹æ–°çš„å¼€å‘ä»»åŠ¡å‰
python3.8 project_context_generator.py
```

### 2. ä½¿ç”¨åœ¨æ–°AIä¼šè¯ä¸­

å½“ä½ å¼€å§‹æ–°çš„AIå¯¹è¯æ—¶ï¼Œå°†ç”Ÿæˆçš„Markdownå†…å®¹ç²˜è´´ç»™AIï¼š

```
ä½ å¥½ï¼æˆ‘éœ€è¦ç»§ç»­å¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼Œä»¥ä¸‹æ˜¯å®Œæ•´çš„é¡¹ç›®ä¸Šä¸‹æ–‡ï¼š

[ç²˜è´´ PROJECT_CONTEXT_SNAPSHOT_*.md çš„å…¨éƒ¨å†…å®¹]

ç°åœ¨æˆ‘éœ€è¦ [æè¿°å…·ä½“éœ€æ±‚]
```

### 3. è‡ªåŠ¨åŒ–é›†æˆ

å¯ä»¥å°†ç”Ÿæˆå™¨é›†æˆåˆ°å¼€å‘æµç¨‹ä¸­ï¼š

```bash
# æ·»åŠ åˆ°Gitæäº¤é’©å­
echo "python3.8 project_context_generator.py" >> .git/hooks/post-commit

# æˆ–è€…åˆ›å»ºåˆ«å
alias gen_context="python3.8 project_context_generator.py"
```

### 4. ç‰ˆæœ¬ç®¡ç†

è€ƒè™‘æ˜¯å¦å°†å¿«ç…§æ–‡ä»¶åŠ å…¥ç‰ˆæœ¬æ§åˆ¶ï¼š

```bash
# å¦‚æœè¦è·Ÿè¸ªå¿«ç…§å†å²
git add PROJECT_CONTEXT_SNAPSHOT_*.md

# æˆ–è€…å¿½ç•¥å¿«ç…§æ–‡ä»¶
echo "PROJECT_CONTEXT_SNAPSHOT_*.md" >> .gitignore
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç¼–ç é”™è¯¯**
   ```
   è§£å†³æ–¹æ¡ˆï¼šç¡®ä¿æ‰€æœ‰æ–‡ä»¶éƒ½æ˜¯UTF-8ç¼–ç ï¼Œç‰¹åˆ«æ˜¯ä¸­æ–‡æ–‡æ¡£
   ```

2. **æ•°æ®åº“è®¿é—®é”™è¯¯**
   ```
   è§£å†³æ–¹æ¡ˆï¼šç¡®ä¿.dbæ–‡ä»¶å­˜åœ¨ä¸”å¯è¯»ï¼Œæ£€æŸ¥æ–‡ä»¶æƒé™
   ```

3. **Pythonç‰ˆæœ¬å…¼å®¹æ€§**
   ```
   è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨Python 3.6+ï¼Œæ¨è3.8+
   ```

4. **ä¾èµ–ç¼ºå¤±**
   ```bash
   # æ— éœ€é¢å¤–ä¾èµ–ï¼Œåªä½¿ç”¨Pythonæ ‡å‡†åº“
   ```

### è°ƒè¯•æ¨¡å¼

å¦‚éœ€è°ƒè¯•ï¼Œå¯ä»¥æ·»åŠ è¯¦ç»†æ—¥å¿—ï¼š

```python
import logging
logging.basicConfig(level=logging.DEBUG)

generator = ProjectContextGenerator()
# ... å…¶ä»–ä»£ç 
```

## ğŸ“ˆ ä½¿ç”¨æ•ˆæœ

ä½¿ç”¨ä¸Šä¸‹æ–‡ç”Ÿæˆå™¨åï¼Œä½ å°†è·å¾—ï¼š

1. **ğŸ¯ ç²¾ç¡®çš„æŠ€æœ¯æŒ‡å¯¼** - AIçŸ¥é“ç¡®åˆ‡çš„Pythonç‰ˆæœ¬å’Œä¾èµ–
2. **ğŸš€ å¿«é€Ÿçš„é¡¹ç›®ç†è§£** - æ— éœ€é‡å¤è§£é‡Šé¡¹ç›®ç»“æ„
3. **ğŸ”„ è¿ç»­çš„å¼€å‘ä½“éªŒ** - æ–°ä¼šè¯æ¥ç»­ä¹‹å‰çš„å·¥ä½œçŠ¶æ€
4. **ğŸ“Š å…¨é¢çš„é¡¹ç›®æ´å¯Ÿ** - ä»£ç ç»Ÿè®¡ã€æ•°æ®åº“ç»“æ„ä¸€ç›®äº†ç„¶

## ğŸ”® é«˜çº§ç”¨æ³•

### è‡ªå®šä¹‰åˆ†æå™¨

å¯ä»¥æ‰©å±•ç”Ÿæˆå™¨æ·»åŠ æ–°çš„åˆ†æåŠŸèƒ½ï¼š

```python
class MyProjectContextGenerator(ProjectContextGenerator):
    def generate_full_context(self):
        context = super().generate_full_context()
        
        # æ·»åŠ è‡ªå®šä¹‰åˆ†æ
        context["my_analysis"] = self._my_custom_analysis()
        
        return context
    
    def _my_custom_analysis(self):
        # ä½ çš„è‡ªå®šä¹‰åˆ†æé€»è¾‘
        return {"custom_data": "value"}
```

### è¾“å‡ºæ ¼å¼æ‰©å±•

é™¤äº†Markdownï¼Œè¿˜å¯ä»¥è¾“å‡ºå…¶ä»–æ ¼å¼ï¼š

```python
def save_as_json(self, context, filename=None):
    if filename is None:
        timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
        filename = f"context_{timestamp}.json"
    
    with open(filename, 'w', encoding='utf-8') as f:
        json.dump(context, f, ensure_ascii=False, indent=2)
    
    return filename
```

---

**æ€»ç»“**: é¡¹ç›®ä¸Šä¸‹æ–‡ç”Ÿæˆå™¨æ˜¯è§£å†³AIå¼€å‘è¿ç»­æ€§çš„å¼ºå¤§å·¥å…·ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–é¡¹ç›®åˆ†æå’Œæ–‡æ¡£ç”Ÿæˆï¼Œç¡®ä¿æ¯æ¬¡AIä¼šè¯éƒ½èƒ½è·å¾—å®Œæ•´ã€å‡†ç¡®çš„é¡¹ç›®ç†è§£åŸºç¡€ã€‚ ğŸ¯